# AiNote æœ¬åœ°éƒ¨ç½²æŒ‡å—

## ğŸ“‹ å‰ç½®è¦æ±‚

### å¿…éœ€è½¯ä»¶
1. **Node.js**: >= 18.0.0
2. **pnpm**: åŒ…ç®¡ç†å™¨ (`npm install -g pnpm`)
3. **PostgreSQL**: >= 14.0
4. **Git**: ç”¨äºç‰ˆæœ¬æ§åˆ¶

### å¯é€‰è½¯ä»¶
- **Prisma Studio**: æ•°æ®åº“å¯è§†åŒ–ç®¡ç†ï¼ˆè‡ªåŠ¨å¯åŠ¨ï¼‰

## ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

### Windows ç”¨æˆ·

#### æ–¹æ³• 1ï¼šä½¿ç”¨ restart.batï¼ˆæœ€ç®€å•ï¼‰âœ…

```bash
# åŒå‡»è¿è¡Œæˆ–åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ
restart.bat
```

**åŠŸèƒ½**ï¼š
- âœ… è‡ªåŠ¨æ£€æµ‹å¹¶åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
- âœ… è‡ªåŠ¨å¯åŠ¨åç«¯æœåŠ¡ï¼ˆç«¯å£ 3001ï¼‰
- âœ… è‡ªåŠ¨å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆç«¯å£ 3100ï¼‰
- âœ… è‡ªåŠ¨æ£€æŸ¥æœåŠ¡å¯åŠ¨çŠ¶æ€
- âœ… æ˜¾ç¤ºæœ¬åœ°å’Œå±€åŸŸç½‘è®¿é—®åœ°å€
- âœ… è‡ªåŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘      AiNote æ™ºèƒ½é‡å¯è„šæœ¬ ğŸ”„           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[æ­¥éª¤ 1/4] åœæ­¢ç°æœ‰æœåŠ¡...
âœ“ ç«¯å£ 3001 æœªè¢«å ç”¨
âœ“ ç«¯å£ 3100 æœªè¢«å ç”¨

[æ­¥éª¤ 2/4] å¯åŠ¨åç«¯æœåŠ¡...
âœ“ åç«¯æœåŠ¡å¯åŠ¨æˆåŠŸï¼

[æ­¥éª¤ 3/4] å¯åŠ¨å‰ç«¯æœåŠ¡...
âœ“ å‰ç«¯æœåŠ¡å¯åŠ¨æˆåŠŸï¼

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘      æ‰€æœ‰æœåŠ¡å¯åŠ¨å®Œæˆï¼ğŸ‰             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“± æœ¬åœ°è®¿é—®:
   å‰ç«¯: http://localhost:3100
   åç«¯: http://localhost:3001

ğŸŒ å±€åŸŸç½‘è®¿é—®:
   å‰ç«¯: http://192.168.1.100:3100
   åç«¯: http://192.168.1.100:3001

ğŸ“‹ æ¼”ç¤ºè´¦å·:
   é‚®ç®±: demo@ainote.com
   å¯†ç : demo123456
```

#### æ–¹æ³• 2ï¼šæ‰‹åŠ¨å¯åŠ¨ï¼ˆå¼€å‘è€…æ¨¡å¼ï¼‰

```bash
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. å¯åŠ¨åç«¯ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
cd packages/backend
pnpm run dev

# 3. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
cd packages/frontend
pnpm run dev
```

### Linux/Mac ç”¨æˆ·

```bash
# ä½¿ç”¨å¯åŠ¨è„šæœ¬
./start.sh

# æˆ–è€…æ‰‹åŠ¨å¯åŠ¨
pnpm install
pnpm dev           # ä»…å¯åŠ¨å‰ç«¯
pnpm dev:backend   # ä»…å¯åŠ¨åç«¯
```

## ğŸ”§ æ‰‹åŠ¨å¯åŠ¨æ¨¡å¼è¯¦è§£

### æ¨¡å¼ 1ï¼šå¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰

**å‰ç«¯å¼€å‘**ï¼š
```bash
cd packages/frontend
pnpm run dev
# è®¿é—®: http://localhost:3100
```

**åç«¯å¼€å‘**ï¼š
```bash
cd packages/backend
pnpm run dev
# è®¿é—®: http://localhost:3001
```

**ç‰¹ç‚¹**ï¼š
- âœ… ä»£ç ä¿®æ”¹è‡ªåŠ¨é‡æ–°åŠ è½½
- âœ… è¯¦ç»†é”™è¯¯ä¿¡æ¯
- âœ… TypeScript ç±»å‹æ£€æŸ¥
- âš ï¸ æ€§èƒ½ç¨æ…¢

### æ¨¡å¼ 2ï¼šç”Ÿäº§æ„å»ºæ¨¡å¼

**æ„å»ºæ‰€æœ‰**ï¼š
```bash
pnpm build
```

**å•ç‹¬æ„å»º**ï¼š
```bash
# æ„å»ºå‰ç«¯
pnpm build:frontend

# æ„å»ºåç«¯
pnpm build:backend
```

**å¯åŠ¨ç”Ÿäº§ç‰ˆæœ¬**ï¼š
```bash
# å¯åŠ¨åç«¯ï¼ˆéœ€è¦å…ˆæ„å»ºï¼‰
cd packages/backend
pnpm run start
```

**ç‰¹ç‚¹**ï¼š
- âœ… æ€§èƒ½ä¼˜åŒ–
- âœ… æ–‡ä»¶å‹ç¼©
- âœ… é€‚åˆç”Ÿäº§ç¯å¢ƒ
- âŒ æ— çƒ­é‡è½½

### æ¨¡å¼ 3ï¼šä»…å‰ç«¯å¼€å‘ï¼ˆä½¿ç”¨ç°æˆåç«¯ï¼‰

```bash
# å¦‚æœåç«¯å·²ç»åœ¨å…¶ä»–åœ°æ–¹è¿è¡Œ
cd packages/frontend
pnpm run dev
```

ç¡®ä¿ `.env` é…ç½®æ­£ç¡®ï¼š
```env
VITE_API_BASE_URL=http://localhost:3001
```

### æ¨¡å¼ 4ï¼šä»…åç«¯å¼€å‘ï¼ˆä½¿ç”¨ç°æˆå‰ç«¯ï¼‰

```bash
cd packages/backend
pnpm run dev
```

## ğŸ›‘ åœæ­¢æœåŠ¡

### Windows

```bash
# æ–¹å¼ 1ï¼šä½¿ç”¨åœæ­¢è„šæœ¬
stop.bat

# æ–¹å¼ 2ï¼šä½¿ç”¨ Ctrl+C
# åœ¨å„ä¸ªç»ˆç«¯çª—å£æŒ‰ Ctrl+C

# æ–¹å¼ 3ï¼šå¼ºåˆ¶åœæ­¢
taskkill /F /IM node.exe
```

### Linux/Mac

```bash
# ä½¿ç”¨åœæ­¢è„šæœ¬
./stop.sh

# æˆ–æ‰‹åŠ¨åœæ­¢
killall node
```

## ğŸ“¦ ç¯å¢ƒé…ç½®

### åç«¯ç¯å¢ƒå˜é‡

**æ–‡ä»¶**: `packages/backend/.env`

```env
PORT=3001
DATABASE_URL="postgresql://user:password@localhost:5432/ainote?schema=public"
JWT_SECRET=your-super-secret-jwt-key
ENCRYPTION_KEY=your-32-character-encryption-key
CORS_ORIGIN=http://localhost:3100
```

### å‰ç«¯ç¯å¢ƒå˜é‡

**æ–‡ä»¶**: `packages/frontend/.env`

```env
VITE_API_BASE_URL=http://localhost:3001
```

## ğŸ—„ï¸ æ•°æ®åº“ç®¡ç†

### åˆå§‹åŒ–æ•°æ®åº“

```bash
cd packages/backend

# ç”Ÿæˆ Prisma Client
pnpm prisma generate

# è¿è¡Œæ•°æ®åº“è¿ç§»
pnpm prisma migrate dev

# å¡«å……ç§å­æ•°æ®
pnpm prisma:seed
```

### åŒæ­¥ AI åŠ©æ‰‹é…ç½®

```bash
cd packages/backend

# åŒæ­¥æ‰€æœ‰å†…ç½®åŠ©æ‰‹åˆ°æ•°æ®åº“
npx tsx prisma/seed-unified-assistants.ts
```

### æ‰“å¼€ Prisma Studioï¼ˆæ•°æ®åº“å¯è§†åŒ–ç®¡ç†ï¼‰

```bash
cd packages/backend
pnpm prisma:studio
# è®¿é—®: http://localhost:5555
```

## ğŸ“ å¸¸ç”¨å‘½ä»¤

### æ ¹ç›®å½•å‘½ä»¤

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm install

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
pnpm dev

# å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨
pnpm dev:backend

# æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# ä»£ç æ£€æŸ¥
pnpm lint

# æ¸…ç†æ‰€æœ‰ä¾èµ–å’Œæ„å»ºäº§ç‰©
pnpm clean
```

### åç«¯å‘½ä»¤

```bash
cd packages/backend

# å¼€å‘æ¨¡å¼
pnpm run dev

# æ„å»ºå¹¶å¯åŠ¨ç”Ÿäº§ç‰ˆæœ¬
pnpm run build && pnpm run start

# Prisma ç›¸å…³
pnpm prisma:generate    # ç”Ÿæˆ Prisma Client
pnpm prisma:migrate     # è¿è¡Œè¿ç§»
pnpm prisma:studio      # æ‰“å¼€ Prisma Studio
pnpm prisma:seed        # å¡«å……ç§å­æ•°æ®

# åŒæ­¥ AI åŠ©æ‰‹
npx tsx prisma/seed-unified-assistants.ts
```

### å‰ç«¯å‘½ä»¤

```bash
cd packages/frontend

# å¼€å‘æ¨¡å¼
pnpm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run build

# é¢„è§ˆç”Ÿäº§æ„å»º
pnpm run preview

# ä»£ç æ£€æŸ¥
pnpm run lint
```

## ğŸŒ è®¿é—®åœ°å€

å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

### æœ¬åœ°è®¿é—®
- **å‰ç«¯**: http://localhost:3100
- **åç«¯ API**: http://localhost:3001/api/v1
- **Prisma Studio**: http://localhost:5555

### å±€åŸŸç½‘è®¿é—®
æŸ¥æ‰¾æœ¬æœº IPï¼š
```bash
# Windows
ipconfig

# Linux/Mac
ifconfig æˆ– ip addr
```

ç„¶åä½¿ç”¨ IP åœ°å€è®¿é—®ï¼Œä¾‹å¦‚ï¼š
- å‰ç«¯: http://192.168.1.100:3100
- åç«¯: http://192.168.1.100:3001

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šç«¯å£è¢«å ç”¨

**Windows**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :3001

# ç»ˆæ­¢è¿›ç¨‹
taskkill /F /PID <PID>
```

**Linux/Mac**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :3001

# ç»ˆæ­¢è¿›ç¨‹
kill -9 <PID>
```

### é—®é¢˜ 2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

1. æ£€æŸ¥ PostgreSQL æœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ£€æŸ¥ `.env` ä¸­çš„æ•°æ®åº“é…ç½®
3. å°è¯•æ‰‹åŠ¨è¿æ¥æ•°æ®åº“ï¼š
   ```bash
   psql -U postgres -h localhost -p 5432 -d ainote
   ```

### é—®é¢˜ 3ï¼šå‰ç«¯æ— æ³•è¿æ¥åç«¯

1. æ£€æŸ¥åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œï¼šè®¿é—® http://localhost:3001
2. æ£€æŸ¥å‰ç«¯ `.env` é…ç½®ï¼š
   ```env
   VITE_API_BASE_URL=http://localhost:3001
   ```
3. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 4ï¼šåŠ©æ‰‹åˆ‡æ¢ä¸å·¥ä½œ

è¿è¡ŒåŠ©æ‰‹åŒæ­¥è„šæœ¬ï¼š
```bash
cd packages/backend
npx tsx prisma/seed-unified-assistants.ts
```

## ğŸ“Š æ—¥å¿—æŸ¥çœ‹

### Windows
```bash
# å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—
Get-Content logs\backend.log -Wait

# å®æ—¶æŸ¥çœ‹å‰ç«¯æ—¥å¿—
Get-Content logs\frontend.log -Wait
```

### Linux/Mac
```bash
# å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f logs/backend.log

# å®æ—¶æŸ¥çœ‹å‰ç«¯æ—¥å¿—
tail -f logs/frontend.log
```

## ğŸ¯ æœ€ä½³å®è·µ

### å¼€å‘ç¯å¢ƒ
1. ä½¿ç”¨ `restart.bat` / `start.sh` å¿«é€Ÿå¯åŠ¨
2. å¼€å‘æ—¶ä½¿ç”¨çƒ­é‡è½½æ¨¡å¼ï¼ˆ`pnpm run dev`ï¼‰
3. å®šæœŸæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æ’æŸ¥é—®é¢˜

### ç”Ÿäº§ç¯å¢ƒ
1. ä½¿ç”¨ `pnpm build` æ„å»ºä¼˜åŒ–ç‰ˆæœ¬
2. é…ç½®ç¯å¢ƒå˜é‡ä½¿ç”¨ç”Ÿäº§æ•°æ®åº“
3. ä½¿ç”¨è¿›ç¨‹ç®¡ç†å™¨ï¼ˆPM2ï¼‰ä¿æŒæœåŠ¡è¿è¡Œ

### ç»´æŠ¤
1. å®šæœŸåŒæ­¥åŠ©æ‰‹é…ç½®
2. å®šæœŸå¤‡ä»½æ•°æ®åº“
3. æ›´æ–°ä¾èµ–åæµ‹è¯•åŠŸèƒ½

## ğŸ” å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **: ç™»å½•åç«‹å³ä¿®æ”¹ demo è´¦å·å¯†ç 
2. **ä¿æŠ¤ç¯å¢ƒå˜é‡**: ä¸è¦æäº¤ `.env` æ–‡ä»¶åˆ°ç‰ˆæœ¬æ§åˆ¶
3. **ä½¿ç”¨å¼ºå¯†ç **: JWT_SECRET å’Œ ENCRYPTION_KEY ä½¿ç”¨å¼ºéšæœºå€¼
4. **æ•°æ®åº“æƒé™**: PostgreSQL ä½¿ç”¨ä¸“ç”¨ç”¨æˆ·è€Œéè¶…çº§ç”¨æˆ·

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [åŠ©æ‰‹ ID ä¸€è‡´æ€§æŒ‡å—](./SYNC_ASSISTANTS.md)
- [åŠ©æ‰‹åŒæ­¥æ€»ç»“](./ASSISTANT_ID_CONSISTENCY_SUMMARY.md)
- [é¡¹ç›®æ–‡æ¡£](./CLAUDE.md)

---

**æœ€åæ›´æ–°**: 2026-01-06
**ä½œè€…**: AiNote Team
